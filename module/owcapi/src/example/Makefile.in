# Makefile for owcapi exammple program -- invoked separately from this directory
# $Id$

DARWINLDFLAGS = -L@prefix@/lib -lowcapi -low @LIBUSB_LIBS@
LDFLAGS = -L@prefix@/lib -Wl,--rpath -Wl,@prefix@/lib -lowcapi

CFLAGS = -g -I@prefix@/include

OBJS = owcapiexample.o

all:	owcapiexample

owcapiexample: $(OBJS)
	if `@TEST@ @OW_DARWIN@ -eq 1` ; then \
		@CC@ $(CFLAGS) -o $@ $(OBJS) $(DARWINLDFLAGS) ; \
	else \
		@CC@ $(CFLAGS) -o $@ $(OBJS) $(LDFLAGS) ; \
	fi


%.o: %.c
	@CC@ $(CFLAGS) -c -o $@ $<

clean:
	$(RM) -f owcapiexample *.o *~ .~
