'\"
'\" Copyright (c) 2003-2004 Paul H Alfille, MD
'\" (palfille@earthlink.net)
'\"
'\" Device manual page for the OWFS -- 1-wire filesystem package
'\" Based on Dallas Semiconductor, Inc's datasheets, and trial and error.
'\"
'\" Free for all use. No waranty. None. Use at your own risk.
'\" $Id$
'\"
.TH OWPERL 1 2004 "OWFS Manpage" "One-Wire File System"
.SH NAME
.B owperl
\- perl interface for the 1-wire filesystem
.SH SYNOPSIS
.B OW.pm
.br
.B use OW ;
.br
.B OW::init(
.I interface
.B );
.br
.B OW::get(
.I path
.B );
.br
.B OW::put(
.I path
.B ,
.I value
.B );
.br
.B OW::finish();
.SH "DESCRIPTION"
.B owperl
is a perl module that provides an interface to OWFS. OWFS is a family of programs that manipulate the Dallas/Maxim 1-wire bus -- a low power, low speed, system of smart memory chips and sensors. Each item on the bus is uniquely numbered and addressable. Bus elements can be added and subtracted at will.
.PP
There is optional data caching. Which can speed repeated access to the same 1wire properties (but is potentially confusing). Use the uncached links to see immediate values.
.PP
The underlying interface to the 1-wire bus is identical to
.I owfs 
(filesystem view) and 
.I owhttpd
web server interface. Only the top layer has been modified to return native perl strings. Development here, and support for new devices, will progress with those projects.
.PP
.I owperl
is created by 
.I SWIG
(www.swig.org) which can be easily modified to support other programming languages.

.SH FUNCTIONS
.SS OW::init( interface )
.I interface
.br
Location of the 1-wire bus:
.TP
"u"
Direct connection to the 1-wire interface on the USB port --
.I DS9490
.TP
/dev/ttySx
Direct connection to a 1-wire interface on the serial port --
.I DS9097U
or
.I DS9097
.TP
port | :port | IPaddress:port
Location of an
.I owserver
daemon that connects to the 1-wire bus. Multiple
.I owperl
as well as
.I owfs
and
.I owhttpd
programs can access the
.I owserver
process simultaneously. In fact, this will probably be the prefered mode of access to OWFS for
.I owperl
except in trivial applications.

Sets the tcp port the web server runs on. Access with the URL http://servernameoripaddress:portnum
.SS \-h \-\-help
Shows this summary of options.
.SS \-d \-\-device "deviceport"
Sets the serial port. It should have a LINK, DS9097U or DS9097 (passive adapter) attached. The "-d" is implied if two arguments are supplied. (See examples). The
.I \-d
and
.I \-u
options are mutually exclusive.
.SS \-u \-\-usb
Use the USB adapter (DS9490) as 1-wire bus master. An optional number 1,2,... specifies which adapter to use if more than one is present.
.SS \-t \-\-timeout "seconds"
Set the number of seconds that volitile data (measured values like temperature and voltage) should be cached before requerying the BUS. More stable values will be saved ten times longer (switch settings, memory contents). 10 seconds is the default.
.SS \-C \-\-Celsius | \-F \-\-Fahrenheit | \-K \-\-Kelvin | \-R \-\-Rankine
Temperature scale used for data output. Celsius is the default.
.SS \-f \-\-format "f[.]i[[.]c]"
Display format for the 1-wire devices. Each device has a 8byte address, consisting of 1byte
.I f
amily code, 6 byte
.I I
D number, and 1 byte
.I C
RC checksum.
.PP
Possible formats are
.I f.i
(default, 01.A1B2C3D4E5F6),
.I fi fic f.ic f.i.c
and
.I fi.c
.PP
All formats are accepted as input, but the output will be in the specified format.
.SS \-\-background | \-\-foreground
Whether the program releases the console and runs in the
\.I background
after evaluating command line options.
.I background
is the default.
.SS \-V \-\-version
.I Version
of this program and related libraries.
.SH EXAMPLE
owhttpd -p 3001 -d /dev/ttyS0
.SH NOTES
See http://owfs.sourceforge.net for the current version.

.SH AUTHOR
Paul Alfille (palfille@earthlink.net)
